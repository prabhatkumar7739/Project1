import React from 'react';
import {
  Dialog,
  DialogContent,
  IconButton,
  Typography,
  Box,
  Divider,
} from '@mui/material';
import CloseIcon from '@mui/icons-material/Close';

const docText = (
  <Box sx={{ ml: 4 }}> {/* Add left margin here */}
    <Typography paragraph>
      Welcome to the <strong>Manage Portfolio</strong> section of the CCA application. This guide will help you efficiently manage your cloud accounts by adding and updating instance details.
    </Typography>

    <Typography paragraph>
      <strong>Note:</strong> All your actions and available features will be based on your assigned role.
    </Typography>

    <Typography paragraph>
      <strong>The home page featuring tiles for different functionalities:</strong>
    </Typography>
    <ol>
      <li><strong>Manage Portfolio</strong></li>
      <li><strong>Explorer</strong></li>
      <li><strong>Download User Guide:</strong> Click the (üìÑ) icon to download the CCA user guide.</li>
      <li><strong>Help section:</strong> Represented by the (?) icon, offers on-screen instructions and information about the current page.</li>
      <li><strong>Profile:</strong> Represented by the (üë§) icon, displays the email ID of the logged-in user. To log out, click the icon and select the "Logout" option.</li>
    </ol>

    <Typography paragraph><strong>Adding Instances Individually</strong></Typography>
    <ol>
      <li><strong>Select Cloud Service Provider:</strong> Choose the cloud service provider from the options (AWS , AZURE, GCP).</li>
      <li><strong>Enter Portfolio Name:</strong> Provide a name for your portfolio to identify it easily.</li>
      <li>
        <strong>Update Instance Details:</strong>
        <ul>
          <li><strong>UUID/Instance Name:</strong> A unique identifier or name assigned to an instance.<br />
            For Ex: VM for AI/ML server. If not entered autogenerated UUID will be added</li>
          <li><strong>Region:</strong> Specify the geographical location where your cloud instances are deployed.</li>
          <li><strong>Size:</strong> Indicate the specifications or capacity of the cloud instance.</li>
          <li><strong>Quantity:</strong> Enter the number of instances for this configuration.</li>
          <li><strong>Total Number of Hours per Month:</strong>
            <ul style={{ listStyleType: '"‚ñ†"', paddingLeft: 20 }}>
              <li>The total number of hours that all the instances (defined by the quantity) will be running during the month.</li>
              <li>To calculate the total hours, multiply the Quantity of instances by 730.</li>
              <li>Note: 730 is the total number of hours in a month.</li>
              <li>For example, if you have 5 instances, the Total Number of Hours per Month would be: Total Hours = 5 instances * 730 hours = 3650 hours/month.</li>
            </ul>
          </li>
          <li><strong>Pricing Model:</strong> Select the pricing option for the instances (e.g., on demand, reserved or spot).</li>
        </ul>
      </li>
      <li><strong>Add Instance:</strong> Click "+ Add Instance" to add the instance details to your portfolio.</li>
      <li><strong>Save Portfolio:</strong> Click "Save" to store your portfolio with the added instance details.</li>
      <li><strong>View Portfolios:</strong> After saving, you can view your portfolio in the portfolios list on the left side of the page.</li>
      <li><strong>View Instances:</strong> Click on any portfolio account from the list to view the instances saved under that portfolio.</li>
      <li><strong>Delete Instance:</strong> To delete an instance from the list, click on the delete icon (üóëÔ∏è) next to the applicable instance row and then confirm the deletion.</li>
      <li><strong>Cancel:</strong> Click "Cancel" to discard the unsaved instances from the list.</li>
      <li><strong>Delete Portfolio:</strong> If you need to remove a portfolio, click on "Delete Portfolio".</li>
      <li><strong>Cost Advice:</strong> Click "Cost Advice" to receive recommendations on AMD instances compared to your current instances. This feature provides information on monthly and hourly costs, along with estimated total savings details if you switch to the recommended AMD instances.</li>
    </ol>

    <Typography paragraph><strong>Uploading Instances in Bulk</strong></Typography>
    <ol>
      <li><strong>Download Template:</strong> Click on Template button to download the Excel template required for bulk uploading.</li>
      <li><strong>Fill in Template:</strong> Complete the template with instance details including uuid, cloud, region, size, quantity, Total Number of Hours per Month and Pricing Model.</li>
      <li><strong>Upload:</strong> Click "Upload" and browse for the completed template file to upload it.</li>
      <li><strong>View Uploaded Instances:</strong> After uploading, the instance details will be reflected in the table on the page.</li>
      <li><strong>Enter Portfolio Name:</strong> Provide a name for your new portfolio.</li>
      <li><strong>Save Portfolio:</strong> Click "Save" to store the portfolio with the uploaded instance details.</li>
      <li><strong>View Portfolios:</strong> After saving, you can see your portfolio in the portfolios list on the left side of the page.</li>
      <li><strong>View Instances:</strong> Click on any portfolio account from the list to view the instances saved under that portfolio.</li>
      <li><strong>Delete Instance:</strong> To delete an instance from the list, click on the delete icon (üóëÔ∏è) next to the applicable instance row and the confirm the deletion.</li>
      <li><strong>Cancel:</strong> Click "Cancel" to discard the unsaved instances from the list.</li>
      <li><strong>Delete Portfolio:</strong> To delete a portfolio, click "Delete Portfolio".</li>
      <li><strong>Cost Advice:</strong> Click "Cost Advice" to receive recommendations on AMD instances compared to your current instances. This feature provides information on monthly and hourly costs, along with estimated total savings details if you switch to the recommended AMD instances.</li>
    </ol>

    <Typography paragraph><strong>Find & Replace:</strong></Typography>
    <Typography paragraph>
      Click (üîç) button to fix errors using the Find & Replace option.<br />
      From the <strong>Instance Type tab</strong>, select the invalid instance type that you want to change under the "From" dropdown, and select the correct instance type under the "To" dropdown.<br />
      From the <strong>Region tab</strong>, select the invalid region that you want to change under the "From" dropdown, and select the correct region under the "To" dropdown.<br />
      From the <strong>Pricing Model tab</strong>, select the invalid pricing model that you want to change under the "From" dropdown, and select the correct pricing model under the "To" dropdown.<br />
      <strong>Click Replace All.</strong> This will replace all selected invalid instance types, regions and pricing model with the chosen correct values.<br />
      Similarly, fix other invalid instance types, regions & pricing model.
    </Typography>
    <ul>
      <li>The "From" dropdown will show all available values in the table for instance types, pricing model & regions.</li>
      <li>The "To" dropdown will show all instance types and region values available for the selected CSP.</li>
    </ul>
    <Typography paragraph>
      You can find and replace any instance types or regions to the desired values.<br />
      <strong>Note:</strong> Double-click each field to update the values and correct the errors. The 'Save' and 'Cost Advice' buttons will remain disabled until all errors are resolved.
    </Typography>

    <Typography paragraph><strong>Delete Error Records:</strong></Typography>
    <Typography paragraph>
      To delete all the error records at once, click on the "Delete Error Records" button.<br />
      A confirmation popup will appear asking you to confirm the deletion.<br />
      To confirm, click the "Delete" button in the popup. This will remove all the error records from your list.<br />
      Click "Save" to apply changes. After saving, you can view the added portfolio in the portfolios list on the left side of the page.
    </Typography>
  </Box>
);

const OnlineDocumentationDialog = ({ open, onClose }) => (
  <Dialog
    open={open}
    onClose={onClose}
    PaperProps={{
      sx: {
        width: '1500px',
        maxWidth: '99vw',
        height: '90vh',
        maxHeight: '95vh',
      }
    }}
  >
    <DialogContent sx={{ maxHeight: '80vh', overflowY: 'auto', position: 'relative' }}>
      <Box display="flex" alignItems="center" mb={2}>
        <Typography variant="h6" sx={{ fontWeight: 700, fontSize: 24, flex: 1 }}>
          Manage Portfolio
        </Typography>
        <IconButton aria-label="close" onClick={onClose} sx={{ ml: 1 }}>
          <CloseIcon />
        </IconButton>
      </Box>
      <Divider sx={{ mb: 2 }} />
      <Typography component="div" sx={{ fontSize: 16 }}>
        {docText}
      </Typography>
    </DialogContent>
  </Dialog>
);

export default OnlineDocumentationDialog;
